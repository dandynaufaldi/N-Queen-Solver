<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style type="text/css">
		.container{
		}

		.container-gone{
			display:none;
		}

		#form-container{
			box-sizing: border-box;
			width: 30%;
			height: 50%;
			margin-left: 35%;
			margin-top: 20%;
		}

		.inputan{
			width: 29%;
			float: right;
			margin: 0;
		}

		#input-select{
			width: 30%;
		}

		#input-submit{
			margin-top: 10%;
			margin-left: : 30.5%;
		}

		.main-object{
			width: 10%;
			margin: 0;
		}

		#button-container{
			background-color: grey;
			width: 10px;
			margin-left: 10px;
			margin: 0;
		}
	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
	<div class="container" id="form-container" style="display: block;">
		<form action="" method="GET" id="form-content">
			<label for="queens">Input N</label>
			<input class="inputan" id="input-n" type="text" name="queens" placeholder="">
			<br><br>
			<label for="option">Mode peletakkan queen</label>
			<select id="input-select" class="inputan" name="option">
				<option value="random">
					Random
				</option>
				<option value="manual">
					Manual
				</option>
			</select>
			<button class="inputan" id="input-submit" onclick="getinput()">Submit</button>
		</form>
	</div>
	<div class="container" id="button-container">
		
	</div>

	<script type="text/javascript">
		$('#form-container').submit(function() {
			$(this).css("display","none");
			return false;
		});

		function getmyidname(mine){
			alert($(mine).attr('id'));
		}

		function getinput(){
			var n;
			var option;
			n=document.getElementById("input-n").value;
			n=parseInt(n);

			$("#button-container").children("button").remove();
			for (var i = 0; i < n; i++) {
				for (var j =0 ; j< n ; ++j){
					var id="'"+i+j+"'";
					var button="<button class='main-object' id="+id+" onclick='getmyidname(this)'>X</button>";
					$("#button-container").append(button);
				}
			}
			var raw_height=($(window).height());
			var raw_width=($(window).width());
			var win_height=raw_height-20;
			var win_width=raw_width-20;
			var win_margin=0;
			var flag=1;
			
			console.log(raw_height);			
			console.log(raw_width);
			console.log(win_height);			
			console.log(win_width);


			if (win_height>=win_width){
				//kalau H>W
				win_margin=100*((win_height-win_width)/2)/raw_width;
				win_height=win_width;
			}
			else{
				win_margin=100*((win_width-win_height)/2/raw_width);
				flag=0;
			}
			var obj_size=win_height/n;
			obj_size=(obj_size/win_height)*100;
			
			if(flag==1){
				win_height=(win_width/raw_height)*100;
				win_width=(win_width/raw_width)*100;
			}
			else{
				win_width=(win_height/raw_width)*100;
				win_height=(win_height/raw_height)*100;
			}

			win_width=win_width+"%";
			win_height=win_height+"vh";
			win_margin=win_margin+"%";

			obj_size=obj_size+"%";

			$("#button-container").css("width",win_width);
			$("#button-container").css("height",win_height);
			$("#button-container").css("margin-left",win_margin);
			$(".main-object").css("width",obj_size);
			$(".main-object").css("height",obj_size);
		}

		window.onresize = function(event) {
    		getinput();
		};
	</script>
</body>
</html>